<?php
$pageTitle = 'ÏùºÍ∞ÑÏßÄÏ∂úÎÇ¥Ïó≠';
include 'includes/header.php';
?>

<link rel="stylesheet" href="css/expense-records.css">

<main class="container">
    <!-- ÏßÄÏ∂úÌòÑÌô© -->
        <div class="row">
            <div class="col s12">
                <div class="card">
                    <div class="card-content">
                        <h5 class="section-title center-align" style="margin-bottom: 20px;">üìä ÏßÄÏ∂úÌòÑÌô©</h5>
                        <div class="row">
                            <div class="col s12 m4">
                                <div class="center-align">
                                    <h6 style="color: #FF5722; margin: 0;">Ïò§Îäò ÏßÄÏ∂ú</h6>
                                    <span id="today-expenses-total" style="font-size: 20px; font-weight: bold; color: #FF5722;">‚Ç©0</span>
                                </div>
                            </div>
                            <div class="col s12 m4">
                                <div class="center-align">
                                    <h6 style="color: #2196F3; margin: 0;">Ïù¥Î≤à Ï£º</h6>
                                    <span id="week-expenses-total" style="font-size: 20px; font-weight: bold; color: #2196F3;">‚Ç©0</span>
                                </div>
                            </div>
                            <div class="col s12 m4">
                                <div class="center-align">
                                    <h6 style="color: #9C27B0; margin: 0;">Ïù¥Î≤à Îã¨</h6>
                                    <span id="month-expenses-total" style="font-size: 20px; font-weight: bold; color: #9C27B0;">‚Ç©0</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÏùºÍ∞ÑÏßÄÏ∂ú Í∏∞Î°ù ÏÑπÏÖò -->
        <div class="row">
            <div class="col s12">
                <div class="card">
                    <div class="card-content">
                        <div class="section-header">
                            <h5 class="section-title">üìù Í∏àÏùº ÏßÄÏ∂ú Ï∂îÍ∞Ä</h5>
                            <div class="section-header-actions">
                                <button id="add-expense-btn" class="btn-floating waves-effect waves-light green">
                                    <i class="material-icons">add</i>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <!-- ÏõîÍ∞Ñ ÏßÄÏ∂ú Îã¨Î†• ÏÑπÏÖò -->
        <div class="row">
            <div class="col s12">
                <div class="card">
                    <div class="card-content">
                        <div class="section-header">
                            <h5 class="section-title">üìÖ ÏõîÍ∞Ñ ÏßÄÏ∂ú Í∏∞Î°ù</h5>
                            <div class="section-header-actions">
                                <button id="prev-month-btn" class="btn-floating waves-effect waves-light blue">
                                    <i class="material-icons">chevron_left</i>
                                </button>
                                <span id="current-month-display" style="margin: 0 15px; font-weight: bold; color: #424242;">2025ÎÖÑ 9Ïõî</span>
                                <button id="next-month-btn" class="btn-floating waves-effect waves-light blue">
                                    <i class="material-icons">chevron_right</i>
                                </button>
                            </div>
                        </div>

                        <!-- ÏõîÍ∞Ñ Ï¥ùÍ≥Ñ ÏöîÏïΩ -->
                        <div class="row" style="margin-bottom: 20px;">
                            <div class="col s12">
                                <div class="card blue lighten-5" style="padding: 15px;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px;">
                                        <h6 style="margin: 0; color: #1976D2;">üìä Ïù¥Î≤à Îã¨ Ï¥ù ÏßÄÏ∂ú</h6>
                                        <span id="monthly-total-amount" style="font-size: 20px; font-weight: bold; color: #1976D2;">‚Ç©0</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Îã¨Î†• -->
                        <div class="expense-calendar">
                            <div class="calendar-header">
                                <div class="calendar-day-header">Ïùº</div>
                                <div class="calendar-day-header">Ïõî</div>
                                <div class="calendar-day-header">Ìôî</div>
                                <div class="calendar-day-header">Ïàò</div>
                                <div class="calendar-day-header">Î™©</div>
                                <div class="calendar-day-header">Í∏à</div>
                                <div class="calendar-day-header">ÌÜ†</div>
                            </div>
                            <div id="calendar-body" class="calendar-body">
                                <!-- Îã¨Î†• ÎÇ¥Ïö©Ïù¥ Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú ÏÉùÏÑ±Îê©ÎãàÎã§ -->
                            </div>
                        </div>

                        <!-- Î≤îÎ°Ä -->
                        <div class="row" style="margin-top: 20px;">
                            <div class="col s12">
                                <div class="center-align">
                                    <small style="color: #666;">
                                        <span style="display: inline-block; width: 12px; height: 12px; background-color: #f44336; border-radius: 50%; margin-right: 5px;"></span>
                                        ÎÜíÏùÄ ÏßÄÏ∂ú (‚Ç©30,000+)
                                        <span style="margin: 0 15px;"></span>
                                        <span style="display: inline-block; width: 12px; height: 12px; background-color: #ff9800; border-radius: 50%; margin-right: 5px;"></span>
                                        Î≥¥ÌÜµ ÏßÄÏ∂ú (‚Ç©10,000~‚Ç©29,999)
                                        <span style="margin: 0 15px;"></span>
                                        <span style="display: inline-block; width: 12px; height: 12px; background-color: #4caf50; border-radius: 50%; margin-right: 5px;"></span>
                                        ÎÇÆÏùÄ ÏßÄÏ∂ú (‚Ç©1~‚Ç©9,999)
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>


<!-- ÏùºÍ∞ÑÏßÄÏ∂ú ÏàòÏ†ï Î™®Îã¨ -->
<div id="edit-daily-expense-modal" class="modal modal-fixed-footer">
    <div class="modal-content">
        <h4><i class="material-icons left">edit</i>ÏùºÍ∞ÑÏßÄÏ∂ú Ìé∏Ïßë</h4>
        <div class="row">
            <form id="edit-daily-expense-form" class="col s12">
                <input type="hidden" id="edit-daily-expense-id">
                <div class="row">
                    <div class="input-field col s12 m6">
                        <input id="edit-expense-date" type="date" class="validate" readonly style="background-color: #f5f5f5;">
                        <label for="edit-expense-date">ÏßÄÏ∂úÏùº (ÏûêÎèôÏÉùÏÑ±)</label>
                    </div>
                    <div class="input-field col s12 m6">
                        <input id="edit-total-amount" type="number" class="validate" readonly style="background-color: #f5f5f5;">
                        <label for="edit-total-amount">Ï¥ù ÏßÄÏ∂úÍ∏àÏï° (ÏûêÎèôÍ≥ÑÏÇ∞)</label>
                        <span class="helper-text">Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ Í∏àÏï°Ïùò Ìï©Í≥Ñ</span>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12 m3">
                        <input id="edit-food-cost" type="number" class="validate" min="0" max="999999999">
                        <label for="edit-food-cost">ÏãùÎπÑ</label>
                        <span class="helper-text">Ïõê</span>
                    </div>
                    <div class="input-field col s12 m3">
                        <input id="edit-necessities-cost" type="number" class="validate" min="0" max="999999999">
                        <label for="edit-necessities-cost">ÏÉùÌïÑÌíàÎπÑ</label>
                        <span class="helper-text">Ïõê</span>
                    </div>
                    <div class="input-field col s12 m3">
                        <input id="edit-transportation-cost" type="number" class="validate" min="0" max="999999999">
                        <label for="edit-transportation-cost">ÍµêÌÜµÎπÑ</label>
                        <span class="helper-text">Ïõê</span>
                    </div>
                    <div class="input-field col s12 m3">
                        <input id="edit-other-cost" type="number" class="validate" min="0" max="999999999">
                        <label for="edit-other-cost">Í∏∞ÌÉÄ</label>
                        <span class="helper-text">Ïõê</span>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect waves-green btn-flat">Ï∑®ÏÜå</a>
        <a href="#!" class="waves-effect waves-light btn orange" id="save-daily-expense-edit">
            <i class="material-icons left">save</i>Ï†ÄÏû•
        </a>
    </div>
</div>

<!-- ÏßÄÏ∂ú Ï∂îÍ∞Ä Î™®Îã¨ -->
<div id="add-expense-modal" class="modal modal-fixed-footer">
    <div class="modal-content">
        <h4><i class="material-icons left">add</i>Ïò§Îäò ÏßÄÏ∂ú Ï∂îÍ∞Ä</h4>
        <p style="color: #666; margin-bottom: 20px;">Ïò§Îäò ÏÇ¨Ïö©Ìïú Í∏àÏï°ÏùÑ Ïπ¥ÌÖåÍ≥†Î¶¨Î≥ÑÎ°ú ÏûÖÎ†•ÌïòÏÑ∏Ïöî. Í∏∞Ï°¥ Í∏àÏï°Ïóê Ï∂îÍ∞ÄÎê©ÎãàÎã§.</p>
        <div class="row">
            <form id="add-expense-form" class="col s12">
                <div class="row">
                    <div class="input-field col s12 m6">
                        <input id="add-food-cost" type="number" class="validate" min="0" max="999999999" value="0">
                        <label for="add-food-cost">üçΩÔ∏è ÏãùÎπÑ</label>
                        <span class="helper-text">Ïõê</span>
                    </div>
                    <div class="input-field col s12 m6">
                        <input id="add-necessities-cost" type="number" class="validate" min="0" max="999999999" value="0">
                        <label for="add-necessities-cost">üõí ÏÉùÌôúÎπÑ</label>
                        <span class="helper-text">Ïõê</span>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12 m6">
                        <input id="add-transportation-cost" type="number" class="validate" min="0" max="999999999" value="0">
                        <label for="add-transportation-cost">üöå ÍµêÌÜµÎπÑ</label>
                        <span class="helper-text">Ïõê</span>
                    </div>
                    <div class="input-field col s12 m6">
                        <input id="add-other-cost" type="number" class="validate" min="0" max="999999999" value="0">
                        <label for="add-other-cost">üí∞ Í∏∞ÌÉÄ</label>
                        <span class="helper-text">Ïõê</span>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12">
                        <div class="card blue lighten-5" style="padding: 15px;">
                            <h6 style="margin: 0 0 10px 0; color: #1976D2;">üìã Ï∂îÍ∞ÄÌï† Ï¥ùÏï°</h6>
                            <span id="add-total-preview" style="font-size: 18px; font-weight: bold; color: #1976D2;">‚Ç©0</span>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect waves-green btn-flat">Ï∑®ÏÜå</a>
        <a href="#!" class="waves-effect waves-light btn orange" id="save-add-expense">
            <i class="material-icons left">add</i>ÏßÄÏ∂ú Ï∂îÍ∞Ä
        </a>
    </div>
</div>

<script src="js/expense-records.js?v=<?php echo time(); ?>"></script>

<?php include 'includes/footer.php'; ?>