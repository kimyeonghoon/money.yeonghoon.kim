# =====================================
# 프로덕션 환경변수 설정
# =====================================
#
# 사용법:
# 1. 이 파일을 복사: cp .env.production.example .env.production
# 2. 실제 값으로 수정
# 3. 배포 시 자동으로 .env로 복사됨
#
# 보안 주의사항:
# - .env.production 파일은 절대 Git에 커밋하지 말것
# - 민감한 정보는 안전하게 관리
# - 주기적으로 비밀번호 변경

# =====================================
# 데이터베이스 설정 (외부 MySQL 서버)
# =====================================
# 프로덕션에서는 외부 MySQL 서버 사용
USE_DOCKER_MYSQL=false

# 외부 DB 서버 정보
PROD_DB_HOST=your_mysql_server_host       # 예: db.example.com 또는 IP 주소
PROD_DB_PORT=3306
PROD_DB_USER=money_user                   # DB 사용자명
PROD_DB_PASSWORD=your_secure_password     # 강력한 비밀번호 설정
PROD_DB_NAME=money_management             # 데이터베이스 이름

# 개발용 설정 (프로덕션에서는 사용 안 함)
DB_HOST=mysql
DB_PORT=3306
DB_NAME=money_management
DB_USER=root
DB_PASSWORD=money_dev_2024

# =====================================
# 암호화 설정
# =====================================
# AES-256-CBC용 32바이트 hex 문자열 (64자)
# 생성 방법: openssl rand -hex 32
ENCRYPTION_KEY=your_64_character_hex_string_here_replace_this_with_actual_key

# =====================================
# 로그인 정보
# =====================================
# 실제 사용자 계정으로 변경
LOGIN_USERNAME=your_email@example.com

# 비밀번호 해시 생성 방법:
# php -r "echo password_hash('your_password', PASSWORD_BCRYPT);"
LOGIN_PASSWORD_HASH=your_bcrypt_hashed_password_here

# =====================================
# 텔레그램 알림 설정
# =====================================
# 로그인 알림을 받을 텔레그램 봇 설정
#
# 봇 생성 방법:
# 1. @BotFather와 대화
# 2. /newbot 명령으로 봇 생성
# 3. 받은 토큰을 아래에 입력
#
# Chat ID 확인:
# 1. 봇에게 메시지 전송
# 2. https://api.telegram.org/bot<TOKEN>/getUpdates 접속
# 3. chat.id 값 확인

TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz123456789
TELEGRAM_CHAT_ID=1234567890

# =====================================
# 애플리케이션 설정
# =====================================
APP_ENV=production                        # 환경: production
APP_DEBUG=false                           # 디버그 모드 비활성화
API_BASE_PATH=/api                        # API 기본 경로

# =====================================
# PHP 설정
# =====================================
PHP_TIMEZONE=Asia/Seoul                   # 한국 표준시

# =====================================
# 세션 설정
# =====================================
SESSION_LIFETIME=7200                     # 세션 유효시간 (초, 기본 2시간)
SESSION_SECURE=true                       # HTTPS 전용 세션
SESSION_HTTPONLY=true                     # JavaScript 접근 차단
SESSION_SAMESITE=Strict                   # CSRF 보호

# =====================================
# 보안 설정
# =====================================
# CORS 허용 도메인 (프로덕션 도메인)
CORS_ALLOWED_ORIGINS=https://money.yeonghoon.kim

# IP 화이트리스트 (쉼표로 구분, 선택사항)
# IP_WHITELIST=203.0.113.1,198.51.100.0/24

# 로그인 시도 제한
MAX_LOGIN_ATTEMPTS=5                      # 최대 로그인 시도 횟수
LOGIN_LOCKOUT_TIME=900                    # 잠금 시간 (초, 기본 15분)

# =====================================
# 로그 설정
# =====================================
LOG_LEVEL=warning                         # 로그 레벨: debug, info, warning, error
LOG_PATH=/var/log/app                     # 로그 파일 경로
LOG_MAX_SIZE=10M                          # 로그 파일 최대 크기
LOG_MAX_FILES=7                           # 로그 파일 최대 개수 (일주일치)

# =====================================
# 백업 설정 (선택사항)
# =====================================
BACKUP_ENABLED=true                       # 백업 활성화
BACKUP_PATH=/data/backups                 # 백업 저장 경로
BACKUP_RETENTION_DAYS=30                  # 백업 보관 기간 (일)

# =====================================
# 설정 완료 후 확인사항
# =====================================
#
# 1. 필수 항목 확인:
#    - PROD_DB_HOST, PROD_DB_USER, PROD_DB_PASSWORD
#    - ENCRYPTION_KEY (64자 hex)
#    - LOGIN_USERNAME, LOGIN_PASSWORD_HASH
#    - TELEGRAM_BOT_TOKEN, TELEGRAM_CHAT_ID
#
# 2. 보안 체크:
#    - 강력한 비밀번호 사용
#    - 암호화 키 안전하게 보관
#    - 파일 권한: chmod 600 .env.production
#
# 3. 테스트:
#    - DB 연결 확인
#    - 로그인 테스트
#    - 텔레그램 알림 테스트